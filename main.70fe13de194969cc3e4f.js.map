{"version":3,"sources":["webpack:///./templates/weather-list.hbs","webpack:///./js/weather-gen.js","webpack:///./js/services/weather-service.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","searchQuery","value","reqType","requestParams","fetch","then","response","json","refs","form","document","querySelector","fiveDaysList","forDayList","weatherTitle","backArrow","clearOneDayList","innerHTML","isertWeatherList","arr","ref","markup","map","obj","weatherTemplate","insertAdjacentHTML","addEventListener","event","preventDefault","currentTarget","elements","query","classList","remove","textContent","weatherService","dataArray","catch","error","console","warn","target","add","day","closest"],"mappings":"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","file":"main.70fe13de194969cc3e4f.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"weather-list__item item\\\">\\n        <h3 class=\\\"weather-list__date\\\" id=\\\"weather-list__date\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"time\") || (depth0 != null ? lookupProperty(depth0,\"time\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"time\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":63},\"end\":{\"line\":2,\"column\":71}}}) : helper)))\n    + \"</h3>\\n        <a href=\\\"#\\\" class=\\\"weather-list__link link\\\">\\n                <div class=\\\"weather-list__img-wrap\\\"><img class=\\\"weather-list__img\\\"\\n                                src=\\\"https://openweathermap.org/img/wn/\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"icon\") || (depth0 != null ? lookupProperty(depth0,\"icon\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"icon\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":71},\"end\":{\"line\":5,\"column\":79}}}) : helper)))\n    + \"@2x.png\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"alt\") || (depth0 != null ? lookupProperty(depth0,\"alt\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"alt\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":93},\"end\":{\"line\":5,\"column\":100}}}) : helper)))\n    + \"\\\"></div>\\n                <ul class=\\\"weather-short-list list\\\">\\n                        <li class=\\\"weather-short-list__item item\\\"><span\\n                                        class=\\\"weather-short-list__title\\\">Temperatura:</span><span\\n                                        class=\\\"weather-short-list__value\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"tempCelsium\") || (depth0 != null ? lookupProperty(depth0,\"tempCelsium\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"tempCelsium\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":74},\"end\":{\"line\":9,\"column\":89}}}) : helper)))\n    + \" ÂºC</span></li>\\n                        <li class=\\\"weather-short-list__item item\\\"><span class=\\\"weather-short-list__title\\\">Humidity:\\n                                </span><span class=\\\"weather-short-list__value\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"humidity\") || (depth0 != null ? lookupProperty(depth0,\"humidity\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"humidity\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":79},\"end\":{\"line\":11,\"column\":91}}}) : helper)))\n    + \" %</span></li>\\n                        <li class=\\\"weather-short-list__item item\\\"><span class=\\\"weather-short-list__title\\\">Cloudiness:\\n                                </span><span class=\\\"weather-short-list__value\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"cloudiness\") || (depth0 != null ? lookupProperty(depth0,\"cloudiness\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"cloudiness\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":79},\"end\":{\"line\":13,\"column\":93}}}) : helper)))\n    + \" %</span></li>\\n                        <li class=\\\"weather-short-list__item item\\\"><span class=\\\"weather-short-list__title\\\">Wind:\\n                                </span><span class=\\\"weather-short-list__value\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"wind\") || (depth0 != null ? lookupProperty(depth0,\"wind\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"wind\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":79},\"end\":{\"line\":15,\"column\":87}}}) : helper)))\n    + \" meter/sec</span></li>\\n                        <li class=\\\"weather-short-list__item item\\\"><span class=\\\"weather-short-list__title\\\">Pressure:\\n                                </span><span class=\\\"weather-short-list__value\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"pressure\") || (depth0 != null ? lookupProperty(depth0,\"pressure\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"pressure\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":79},\"end\":{\"line\":17,\"column\":91}}}) : helper)))\n    + \" hPa</span></li>\\n                        <li class=\\\"weather-short-list__item item\\\"><span\\n                                        class=\\\"weather-short-list__title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"phenomena\") || (depth0 != null ? lookupProperty(depth0,\"phenomena\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"phenomena\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":19,\"column\":74},\"end\":{\"line\":19,\"column\":87}}}) : helper)))\n    + \"</span><span\\n                                        class=\\\"weather-short-list__value\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"precValue\") || (depth0 != null ? lookupProperty(depth0,\"precValue\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"precValue\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":74},\"end\":{\"line\":20,\"column\":87}}}) : helper)))\n    + \"</span></li>\\n\\n                </ul>\\n        </a>\\n</li>\";\n},\"useData\":true});","'use strict';\n\nimport weatherService from './services/weather-service';\nimport weatherTemplate from '../templates/weather-list.hbs';\n\nconst refs = {\n  form: document.querySelector('#search-form'),\n  fiveDaysList: document.querySelector('#five-days-list'),\n  forDayList: document.querySelector('#for-day-list'),\n  weatherTitle: document.querySelector('#weather-title'),\n  backArrow: document.querySelector('#back-arrow'),\n};\n\nlet searchQuery;\n\nrefs.form.addEventListener('submit', getCityNameHandler);\nrefs.fiveDaysList.addEventListener('click', openOneDayListHandler);\nrefs.backArrow.addEventListener('click', toBackFiveListHandler);\n\nfunction getCityNameHandler(event) {\n  event.preventDefault();\n\n  searchQuery = event.currentTarget.elements.query.value;\n\n  clearFiveDaysList();\n  clearOneDayList();\n  refs.fiveDaysList.classList.remove('visually-hidden');\n\n  refs.weatherTitle.textContent = `Five day weather forecast in ${searchQuery}`;\n  refs.weatherTitle.classList.remove('visually-hidden');\n\n  weatherService\n    .fethWeather(searchQuery)\n    .then(dataArray => {\n      isertWeatherList(dataArray, refs.fiveDaysList);\n    })\n    .catch(error => {\n      console.warn(error);\n    });\n}\n\nfunction openOneDayListHandler(event) {\n  event.preventDefault();\n  if (event.currentTarget === event.target) {\n    return;\n  }\n  const ul = event.currentTarget;\n  ul.classList.add('visually-hidden');\n  refs.backArrow.classList.remove('visually-hidden');\n\n  const focusedLi = event.target.closest('li.weather-list__item');\n  const day = focusedLi.querySelector('#weather-list__date').textContent;\n  refs.weatherTitle.textContent = `${day} weather forecast`;\n\n  weatherService\n    .fethWeather(day, 'day')\n    .then(dataArray => {\n      isertWeatherList(dataArray, refs.forDayList);\n    })\n    .catch(error => {\n      console.warn(error);\n    });\n}\n\nfunction toBackFiveListHandler(event) {\n  event.preventDefault();\n  refs.backArrow.classList.add('visually-hidden');\n  clearOneDayList();\n  refs.weatherTitle.textContent = `Five day weather forecast in ${searchQuery}`;\n  refs.fiveDaysList.classList.remove('visually-hidden');\n}\n\nfunction clearFiveDaysList() {\n  refs.fiveDaysList.innerHTML = '';\n}\n\nfunction clearOneDayList() {\n  refs.forDayList.innerHTML = '';\n}\n\nfunction isertWeatherList(arr, ref) {\n  const markup = arr.map(obj => weatherTemplate(obj));\n  ref.insertAdjacentHTML('beforeend', markup);\n}\n","const baseUrl = 'https://open-weather-server.herokuapp.com/api/weather';\n\nexport default {\n  fethWeather(value, reqType = 'city') {\n    let requestParams = `?city=${value}`;\n    if (reqType === 'day') requestParams = `/day?day=${value}`;\n    return fetch(baseUrl + requestParams).then(response => response.json());\n  },\n};\n"],"sourceRoot":""}